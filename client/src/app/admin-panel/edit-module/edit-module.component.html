<div class="container">
    <div class="edit-module">
        <form class="form" [formGroup]="editModuleForm" (ngSubmit)="onSubmit(editModuleForm.value)">
            <div class="flex flex--between flex--center">
                <h1>Edit Module</h1>
                <back-button [backRoute]="['/admin-panel']"></back-button>
            </div>
            <div class="form__section">
                <label for="title">Title</label>
                <input type="text" [class.is-invalid]="title.invalid && title.touched" id="title"
                    formControlName="title" placeholder="Enter title">
                <small class="title-slug">Slug: {{ title.value | titleToSlug }}</small>
                <div class="form__help text--small" *ngIf="title.invalid && title.touched">
                    <div *ngIf="title.errors?.required">Title is required.</div>
                </div>
            </div>
            <div class="form__group--flex">
                <div class="form__section">
                    <label for="difficulty">Difficulty</label>
                    <select formControlName="difficulty" id="difficulty">
                        <option value="beginner">Beginner</option>
                        <option value="intermediate">Intermediate</option>
                        <option value="advanced">Advanced</option>
                    </select>
                    <div class="form__help text--small" *ngIf="difficulty.invalid && difficulty.touched">
                        <div *ngIf="difficulty.errors?.required">Difficulty is required.</div>
                    </div>
                </div>
                <div class="form__section">
                    <label for="status">Status</label>
                    <select formControlName="status" id="status">
                        <option value="private">Private</option>
                        <option value="public">Public</option>
                    </select>
                    <div class="form__help text--small" *ngIf="status.invalid && status.touched">
                        <div *ngIf="status.errors?.required">Status is required.</div>
                    </div>
                </div>
            </div>
            <div class="form__group">
                <label for="description">Description</label>
                <textarea type="description" [class.is-invalid]="description.invalid && description.touched"
                    id="description" formControlName="description" placeholder="Enter description" rows="5"></textarea>
                <div class="form__help text--small" *ngIf="description.invalid && description.touched">
                    <div *ngIf="description.errors?.required">Description is required.</div>
                </div>
            </div>
            <div class="form__group margin-bottom">
                <input type="checkbox" formControlName="skippable" id="skippable">
                <label for="skippable">Skippable</label>
            </div>
            <div class="form__group">
                <file-upload (onFileUpload)="onFileUpload($event)"></file-upload>
            </div>
            <button class="button button--large" [disabled]="editModuleForm.invalid">Update Module</button>
        </form>
    </div>
</div>